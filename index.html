<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>Be My Valentine üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
/* ===== RESET ===== */
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  height: 100dvh; /* Mobile browser fix */
  overflow: hidden;
  font-family: "Poppins", sans-serif;
  background: #333; /* Dark fallback */
  
  /* CHANGE 1: Move content to bottom */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; 
  align-items: center;
  padding-bottom: 40px; 
}

/* ===== SLIDESHOW ===== */
.slideshow {
  position: fixed;
  inset: 0;
  z-index: -1;
}

.slide {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center; /* Focus on center of image */
  opacity: 0;
  transition: opacity 1.5s ease-in-out;
}

.slide.active {
  opacity: 1;
}

/* Dark overlay on slide so text pops */
.slideshow::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%);
    z-index: 0;
}

/* ===== FLOATING HEARTS ===== */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 24px;
  animation: floatUp 6s linear infinite;
  opacity: 0.8;
  z-index: 1;
}

@keyframes floatUp {
  0% { transform: translateY(0); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(-110vh); opacity: 0; }
}

/* ===== CARD (GLASS STYLE) ===== */
.card {
  /* CHANGE 2: Glassmorphism */
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  
  padding: 25px;
  border-radius: 20px;
  text-align: center;
  width: 90%;
  max-width: 420px;
  
  /* Animation */
  animation: slideUp 0.8s ease;
  z-index: 10;
  margin-bottom: 20px;
}

@keyframes slideUp {
  from { transform: translateY(50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

h1 {
  font-family: "Great Vibes", cursive;
  font-size: 2.8rem;
  color: #fff; /* White text */
  margin: 0 0 10px 0;
  text-shadow: 0 2px 4px rgba(0,0,0,0.5); /* Shadow for readability */
}

p {
  color: #f0f0f0;
  font-size: 1.1rem;
  margin-bottom: 25px;
  line-height: 1.5;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
}

/* ===== BUTTONS ===== */
.buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  position: relative;
  min-height: 50px;
}

button {
  padding: 12px 30px;
  font-size: 16px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  font-weight: 600;
  transition: transform 0.2s;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

button:active {
    transform: scale(0.95);
}

#yesBtn {
  background: #ff416c;
  color: white;
}

#noBtn {
  background: white;
  color: #333;
}

/* ===== OVERLAYS ===== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6); /* Darker dim */
  display: flex;
  
  /* Align overlays to bottom too */
  flex-direction: column;
  justify-content: flex-end; 
  align-items: center;
  padding-bottom: 40px;

  opacity: 0;
  pointer-events: none;
  transition: opacity .4s ease;
  z-index: 20;
}

.overlay.show {
  opacity: 1;
  pointer-events: auto;
}

/* Typewriter specific styles */
#loveText {
    text-align: left;
    min-height: 100px;
}

/* Surprise Overlay Center (Exception) */
#surpriseOverlay {
    justify-content: center; /* Center this one */
    background: rgba(255, 105, 180, 0.9);
    padding-bottom: 0;
}

</style>
</head>

<body>

<div class="slideshow">
  <div class="slide active"></div>
  <div class="slide"></div>
  <div class="slide"></div>
  <div class="slide"></div>
</div>

<div class="card" id="startCard">
  <h1>Hey Babdiiii... üíñ</h1>
  <p>I have something to ask you...</p>
  <button id="startBtn" style="background: white; color: #ff416c;">Click Me ‚ú®</button>
</div>

<div class="overlay" id="loveOverlay">
  <div class="card">
    <h1>Read this... üíå</h1>
    <p id="loveText"></p>
    <button id="askBtn" style="display:none; margin: 0 auto;">Next ‚ù§Ô∏è</button>
  </div>
</div>

<div class="overlay" id="questionOverlay">
  <div class="card">
    <h1>Will you be my Valentine? üåπ</h1>
    <p>(Please say yes ü•∫)</p>
    <div class="buttons">
      <button id="yesBtn">Yes ‚ù§Ô∏è</button>
      <button id="noBtn">No üíî</button>
    </div>
  </div>
</div>

<div class="overlay" id="surpriseOverlay">
  <div class="card" style="background: white; color: #333;">
    <h1 style="color: #ff416c; text-shadow: none;">YAYYY! üíñ</h1>
    <p style="color: #555; text-shadow: none;">
        Check my bag üëú<br>
        There is a gift for you! ‚ú®
    </p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
/* ===== CONFIGURATION ===== */
// REPLACE these with your actual image paths
const images = [
      "https://images.unsplash.com/photo-1518199266791-5375a83190b7?auto=format&fit=crop&w=800&q=80", // Demo Image 1
      "https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?auto=format&fit=crop&w=800&q=80", // Demo Image 2
      "https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&w=800&q=80"  // Demo Image 3
];

const slides = document.querySelectorAll(".slide");
let sIndex = 0;

// Set images
slides.forEach((s, i) => {
    if (images[i]) {
        s.style.backgroundImage = `url('${images[i]}')`;
    }
});

// Slideshow timer
setInterval(() => {
  slides[sIndex % slides.length].classList.remove("active");
  sIndex++;
  slides[sIndex % slides.length].classList.add("active");
}, 3500);

/* ===== FLOW CONTROLS ===== */
const startCard = document.getElementById("startCard");
const startBtn = document.getElementById("startBtn");
const loveOverlay = document.getElementById("loveOverlay");
const askBtn = document.getElementById("askBtn");
const questionOverlay = document.getElementById("questionOverlay");
const surpriseOverlay = document.getElementById("surpriseOverlay");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

/* Step 1: Start -> Show Letter */
startBtn.onclick = () => {
    startCard.style.display = "none"; // Hide first card
    loveOverlay.classList.add("show");
    typeLove();
};

/* Step 2: Letter Typewriter */
const loveText = document.getElementById("loveText");
const message = 
`You make my world brighter just by being in it. 

I cherish every moment we spend together. 

I have a question for you...`;

let charIndex = 0;
function typeLove() {
  if (charIndex < message.length) {
    loveText.innerHTML += message.charAt(charIndex) === "\n" ? "<br>" : message.charAt(charIndex);
    charIndex++;
    setTimeout(typeLove, 50);
  } else {
    // Show button when typing is done
    askBtn.style.display = "block";
  }
}

/* Step 3: Letter -> Question */
askBtn.onclick = () => {
    loveOverlay.classList.remove("show");
    questionOverlay.classList.add("show");
};

/* Step 4: The Prank (No Button) */
noBtn.addEventListener("touchstart", moveNoButton); // Mobile
noBtn.addEventListener("mouseover", moveNoButton); // Desktop

function moveNoButton(e) {
    if(e) e.preventDefault(); // Prevent clicking on mobile
    
    // Get visible screen dimensions
    const width = window.innerWidth - 80;
    const height = window.innerHeight - 80;
    
    // Calculate random position
    const newX = Math.random() * width; 
    const newY = Math.random() * height;
    
    noBtn.style.position = "fixed";
    noBtn.style.left = newX + "px";
    noBtn.style.top = newY + "px";
}

/* Step 5: Success */
yesBtn.onclick = () => {
    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
    
    // Hide buttons
    yesBtn.style.display = "none";
    noBtn.style.display = "none";

    // Show Surprise after short delay
    setTimeout(() => {
        questionOverlay.classList.remove("show");
        surpriseOverlay.classList.add("show");
    }, 1000);
};

/* Background Hearts */
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = ["üíñ","‚ú®","üåπ"][Math.floor(Math.random()*3)];
    heart.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 600);

</script>

</body>
</html>