<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Be My Valentine üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
/* ===== RESET ===== */
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  font-family: "Poppins", sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== SLIDESHOW (MOBILE SAFE) ===== */
.slideshow {
  position: fixed;
  inset: 0;
  z-index: -1;
}

.slide {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transition: opacity 1.5s ease-in-out;
}

.slide.active {
  opacity: 1;
}

/* ===== FLOATING HEARTS (LIGHTWEIGHT) ===== */
.heart {
  position: fixed;
  bottom: -20px;
  font-size: 18px;
  animation: floatUp 6s linear infinite;
  opacity: 0.8;
}

@keyframes floatUp {
  0% { transform: translateY(0); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(-110vh); opacity: 0; }
}

/* ===== CARD ===== */
.card {
  background: rgba(255,255,255,0.92);
  padding: 34px;
  border-radius: 26px;
  text-align: center;
  width: 90%;
  max-width: 420px;
  box-shadow: 0 15px 30px rgba(0,0,0,.25);
  animation: pop .6s ease;
}

@keyframes pop {
  from { transform: scale(.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

h1 {
  font-family: "Great Vibes", cursive;
  font-size: 3.2rem;
  color: #ff416c;
  margin-bottom: 10px;
}

p {
  color: #555;
  font-size: 1rem;
  margin-bottom: 20px;
}

/* ===== BUTTONS ===== */
.buttons {
  display: flex;
  gap: 18px;
  justify-content: center;
}

button {
  padding: 12px 28px;
  font-size: 17px;
  border-radius: 30px;
  border: none;
  cursor: pointer;
  font-weight: 600;
}

#yesBtn {
  background: linear-gradient(45deg, #ff416c, #ff4b2b);
  color: white;
  animation: heartbeat 2s infinite;
}

@keyframes heartbeat {
  0% { transform: scale(1); }
  25% { transform: scale(1.05); }
  40% { transform: scale(1); }
  60% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

#noBtn {
  background: #eee;
  color: #ff416c;
}

/* ===== OVERLAYS ===== */
.overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity .4s ease;
  z-index: 10;
}

.overlay.show {
  opacity: 1;
  pointer-events: auto;
}

/* ===== TYPEWRITER TEXT ===== */
#loveText {
  text-align: left;
  font-size: 1.05rem;
  line-height: 1.6;
  color: #444;
}
</style>
</head>

<body>

<!-- SLIDESHOW -->
<div class="slideshow">
  <div class="slide active"></div>
  <div class="slide"></div>
  <div class="slide"></div>
  <div class="slide"></div>
</div>

<!-- MAIN CARD -->
<div class="card" id="startCard">
  <h1>Hey Love‚Ä¶ üíñ</h1>
  <p>Just stay here for a moment ü•∫</p>
  <button id="startBtn">Continue ‚ú®</button>
</div>

<!-- LOVE MESSAGE -->
<div class="overlay" id="loveOverlay">
  <div class="card">
    <h1>From My Heart üíû</h1>
    <p id="loveText"></p>
    <button id="askBtn">I‚Äôm still here üíñ</button>
  </div>
</div>

<!-- QUESTION -->
<div class="overlay" id="questionOverlay">
  <div class="card">
    <h1>Will you be my Valentine? üåπ</h1>
    <div class="buttons">
      <button id="yesBtn">Yes ‚ù§Ô∏è</button>
      <button id="noBtn">No üíî</button>
    </div>
  </div>
</div>

<!-- SURPRISE -->
<div class="overlay" id="surpriseOverlay">
  <div class="card">
    <h1>Yayyy Babdiiii üíñ</h1>
    <p>You just made my heart smile ü•π</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
/* ===== IMAGE LIST (MOBILE SAFE) ===== */
const images = window.innerWidth < 768
  ? [
      "memories/img1.jpg",
      "memories/img2.jpg",
      "memories/img3.jpg",
      "memories/img4.jpg"
    ]
  : [
      "memories/img1.jpg",
      "memories/img2.jpg",
      "memories/img3.jpg",
      "memories/img4.jpg",
      "memories/img5.jpg",
      "memories/img6.jpg",
      "memories/img7.jpg",
      "memories/img8.jpg"
    ];

const slides = document.querySelectorAll(".slide");
let sIndex = 0;

// preload
images.forEach(src => { const i = new Image(); i.src = src; });

// init
slides.forEach((s,i)=>{
  s.style.backgroundImage = `url('${images[i % images.length]}')`;
});

// slideshow
setInterval(() => {
  slides[sIndex % slides.length].classList.remove("active");
  sIndex++;
  slides[sIndex % slides.length].classList.add("active");
}, 4000);

/* ===== FLOW ===== */
const startBtn = document.getElementById("startBtn");
const loveOverlay = document.getElementById("loveOverlay");
const questionOverlay = document.getElementById("questionOverlay");
const surpriseOverlay = document.getElementById("surpriseOverlay");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

startBtn.onclick = () => {
  loveOverlay.classList.add("show");
  typeLove();
};

/* ===== TYPEWRITER ===== */
const loveText = document.getElementById("loveText");
const message =
`From the moment you came into my life,
everything slowly started feeling lighter.

Your smile became my peace,
your voice my calm,
your presence my comfort.

Somewhere between our talks,
our laughs,
and our silences‚Ä¶

you became home for me.

And now I just want to ask you
something from my heart‚Ä¶`;

let i = 0;
function typeLove() {
  loveText.innerHTML = "";
  i = 0;
  (function t(){
    if(i < message.length){
      loveText.innerHTML += message[i] === "\n" ? "<br>" : message[i];
      i++;
      setTimeout(t, 45);
    }
  })();
}

document.getElementById("askBtn").onclick = () => {
  questionOverlay.classList.add("show");
};

/* NO BUTTON FUN */
noBtn.onmouseover = () => {
  noBtn.style.position = "fixed";
  noBtn.style.left = Math.random()*80 + "vw";
  noBtn.style.top = Math.random()*80 + "vh";
};

/* YES */
yesBtn.onclick = () => {
  confetti({ particleCount: 180, spread: 80, origin: { y: 0.6 } });
  noBtn.style.display = "none";
  setTimeout(() => surpriseOverlay.classList.add("show"), 700);
};

/* FLOATING HEARTS */
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerText = ["üíñ","üíò","üåπ"][Math.floor(Math.random()*3)];
  h.style.left = Math.random()*100 + "vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
}, 500);
</script>

</body>
</html>
